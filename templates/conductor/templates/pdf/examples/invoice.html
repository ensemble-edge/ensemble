<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Invoice {{invoiceNumber}}</title>
	<style>
		@page {
			size: A4;
			margin: 2cm;

			@top-left {
				content: "{{companyName}}";
				font-size: 10px;
				color: #666;
			}

			@top-right {
				content: "Invoice #{{invoiceNumber}}";
				font-size: 10px;
				color: #666;
			}

			@bottom-center {
				content: "Page " counter(page) " of " counter(pages);
				font-size: 10px;
				color: #666;
			}
		}

		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body {
			font-family: 'Helvetica', 'Arial', sans-serif;
			font-size: 11pt;
			line-height: 1.6;
			color: #333;
		}

		.header {
			display: flex;
			justify-content: space-between;
			align-items: flex-start;
			margin-bottom: 40px;
			padding-bottom: 20px;
			border-bottom: 3px solid #2D1B69;
		}

		.company-info {
			flex: 1;
		}

		.company-name {
			font-size: 24pt;
			font-weight: bold;
			color: #2D1B69;
			margin-bottom: 10px;
		}

		.company-details {
			font-size: 9pt;
			color: #666;
			line-height: 1.4;
		}

		.invoice-details {
			text-align: right;
			flex: 1;
		}

		.invoice-title {
			font-size: 32pt;
			font-weight: bold;
			color: #2D1B69;
			margin-bottom: 10px;
		}

		.invoice-meta {
			font-size: 10pt;
			color: #666;
		}

		.invoice-meta strong {
			color: #333;
		}

		.billing-section {
			display: flex;
			justify-content: space-between;
			margin-bottom: 40px;
		}

		.billing-block {
			flex: 1;
		}

		.billing-block h3 {
			font-size: 12pt;
			color: #2D1B69;
			margin-bottom: 10px;
			text-transform: uppercase;
			letter-spacing: 0.5px;
		}

		.billing-block p {
			font-size: 10pt;
			margin: 2px 0;
		}

		.line-items {
			width: 100%;
			border-collapse: collapse;
			margin-bottom: 30px;
		}

		.line-items thead {
			background-color: #2D1B69;
			color: white;
		}

		.line-items th {
			padding: 12px;
			text-align: left;
			font-size: 10pt;
			font-weight: 600;
			text-transform: uppercase;
			letter-spacing: 0.5px;
		}

		.line-items th:last-child,
		.line-items td:last-child {
			text-align: right;
		}

		.line-items tbody tr {
			border-bottom: 1px solid #e5e7eb;
		}

		.line-items tbody tr:hover {
			background-color: #f9fafb;
		}

		.line-items td {
			padding: 12px;
			font-size: 10pt;
		}

		.line-items td.description {
			color: #666;
			font-size: 9pt;
		}

		.totals {
			margin-left: auto;
			width: 300px;
			border-top: 2px solid #e5e7eb;
			padding-top: 10px;
		}

		.totals-row {
			display: flex;
			justify-content: space-between;
			padding: 8px 0;
			font-size: 10pt;
		}

		.totals-row.subtotal {
			color: #666;
		}

		.totals-row.tax {
			color: #666;
			border-bottom: 1px solid #e5e7eb;
			margin-bottom: 10px;
		}

		.totals-row.total {
			font-size: 14pt;
			font-weight: bold;
			color: #2D1B69;
			border-top: 2px solid #2D1B69;
			padding-top: 15px;
		}

		.notes {
			margin-top: 40px;
			padding: 20px;
			background-color: #f9fafb;
			border-left: 4px solid #4FD1C5;
		}

		.notes h3 {
			font-size: 12pt;
			color: #2D1B69;
			margin-bottom: 10px;
		}

		.notes p {
			font-size: 9pt;
			color: #666;
			line-height: 1.5;
		}

		.footer {
			margin-top: 60px;
			padding-top: 20px;
			border-top: 1px solid #e5e7eb;
			text-align: center;
			font-size: 9pt;
			color: #999;
		}

		.payment-terms {
			margin-top: 30px;
			padding: 15px;
			background-color: #fef3c7;
			border: 1px solid #fbbf24;
			border-radius: 4px;
		}

		.payment-terms h3 {
			font-size: 11pt;
			color: #92400e;
			margin-bottom: 8px;
		}

		.payment-terms p {
			font-size: 9pt;
			color: #78350f;
		}

		/* Print-specific styles */
		@media print {
			body {
				-webkit-print-color-adjust: exact;
				print-color-adjust: exact;
			}

			.page-break {
				page-break-before: always;
			}
		}
	</style>
</head>
<body>
	<!-- Header -->
	<div class="header">
		<div class="company-info">
			<div class="company-name">{{companyName}}</div>
			<div class="company-details">
				{{companyAddress}}<br>
				{{companyCity}}, {{companyState}} {{companyZip}}<br>
				{{companyCountry}}<br>
				{{companyPhone}} | {{companyEmail}}
				{{#if companyTaxId}}<br>Tax ID: {{companyTaxId}}{{/if}}
			</div>
		</div>
		<div class="invoice-details">
			<div class="invoice-title">INVOICE</div>
			<div class="invoice-meta">
				<strong>Invoice #:</strong> {{invoiceNumber}}<br>
				<strong>Date:</strong> {{invoiceDate}}<br>
				<strong>Due Date:</strong> {{dueDate}}
			</div>
		</div>
	</div>

	<!-- Billing Section -->
	<div class="billing-section">
		<div class="billing-block">
			<h3>Bill To:</h3>
			<p><strong>{{clientName}}</strong></p>
			{{#if clientCompany}}<p>{{clientCompany}}</p>{{/if}}
			<p>{{clientAddress}}</p>
			<p>{{clientCity}}, {{clientState}} {{clientZip}}</p>
			<p>{{clientCountry}}</p>
			{{#if clientEmail}}<p>{{clientEmail}}</p>{{/if}}
		</div>
		<div class="billing-block" style="text-align: right;">
			<h3>Payment Details:</h3>
			<p><strong>Status:</strong> {{paymentStatus}}</p>
			<p><strong>Terms:</strong> {{paymentTerms}}</p>
			{{#if poNumber}}<p><strong>PO #:</strong> {{poNumber}}</p>{{/if}}
		</div>
	</div>

	<!-- Line Items -->
	<table class="line-items">
		<thead>
			<tr>
				<th style="width: 50%;">Description</th>
				<th style="width: 15%;">Quantity</th>
				<th style="width: 15%;">Rate</th>
				<th style="width: 20%;">Amount</th>
			</tr>
		</thead>
		<tbody>
			{{#each lineItems}}
			<tr>
				<td>
					<strong>{{name}}</strong>
					{{#if description}}
					<div class="description">{{description}}</div>
					{{/if}}
				</td>
				<td>{{quantity}}</td>
				<td>${{rate}}</td>
				<td>${{amount}}</td>
			</tr>
			{{/each}}
		</tbody>
	</table>

	<!-- Totals -->
	<div class="totals">
		<div class="totals-row subtotal">
			<span>Subtotal:</span>
			<span>${{subtotal}}</span>
		</div>
		{{#if discount}}
		<div class="totals-row">
			<span>Discount ({{discountPercent}}%):</span>
			<span>-${{discount}}</span>
		</div>
		{{/if}}
		{{#if tax}}
		<div class="totals-row tax">
			<span>Tax ({{taxPercent}}%):</span>
			<span>${{tax}}</span>
		</div>
		{{/if}}
		<div class="totals-row total">
			<span>Total Due:</span>
			<span>${{total}}</span>
		</div>
	</div>

	<!-- Payment Terms -->
	{{#if showPaymentTerms}}
	<div class="payment-terms">
		<h3>Payment Terms</h3>
		<p>{{paymentTermsText}}</p>
	</div>
	{{/if}}

	<!-- Notes -->
	{{#if notes}}
	<div class="notes">
		<h3>Notes</h3>
		<p>{{notes}}</p>
	</div>
	{{/if}}

	<!-- Footer -->
	<div class="footer">
		<p>Thank you for your business!</p>
		<p>{{companyName}} | {{companyWebsite}}</p>
		{{#if invoiceFooter}}<p>{{invoiceFooter}}</p>{{/if}}
	</div>
</body>
</html>
