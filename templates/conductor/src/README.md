# Conductor Template - Entry Points

This template provides the auto-discovery approach for building AI orchestration workflows.

## Auto-Discovery Entry Point

**File:** `index.ts`

Agents and ensembles are automatically discovered from your project directory.

```typescript
import { createAutoDiscoveryAPI } from '@ensemble-edge/conductor/api';
import { agents } from 'virtual:conductor-agents';
import { ensembles } from 'virtual:conductor-ensembles';

export default createAutoDiscoveryAPI({
  autoDiscover: true,
  agents,
  ensembles,
  auth: { allowAnonymous: true },
  logging: true,
});
```

**Features:**
- Zero-config auto-discovery
- `POST /api/v1/execute` - Execute agents and ensembles
- `GET /api/v1/agents` - List all agents
- `GET /health` - Health check
- Auto-discovered agents from `agents/**/*.yaml`
- Auto-discovered ensembles from `ensembles/**/*.yaml`

---

## Virtual Modules

Vite plugins provide auto-discovery at build time:

```typescript
// Auto-discovered at build time
import { docs } from 'virtual:conductor-docs';         // docs/**/*.md
import { agents } from 'virtual:conductor-agents';     // agents/**/*.yaml
import { ensembles } from 'virtual:conductor-ensembles'; // ensembles/**/*.yaml
```

These are generated by Vite plugins defined in `vite.config.ts`.

---

## HTTP Triggers

For web endpoints (HTML pages, APIs, etc.), use HTTP triggers in ensembles:

```yaml
# ensembles/my-api/ensemble.yaml
name: my-api
description: An API endpoint

trigger:
  - type: http
    path: /api/data
    methods: [GET, POST]

agents:
  - name: data-handler
    operation: code
    handler: ./handler.ts

flow:
  - agent: data-handler
```

HTTP triggers support:
- Path parameters (`/users/:id`)
- Query parameters
- Multiple HTTP methods
- HTML, JSON, and XML responses
- Custom response headers

---

## Next Steps

1. **Add agents** to `agents/` directory
2. **Add ensembles** to `ensembles/` directory
3. **Add docs** to `docs/` directory (optional)
4. **Run:** `pnpm run dev`

See the documentation for more details: https://conductor.dev/docs
